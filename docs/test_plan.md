# Test Plan

## Минимальный набор тестов на будущий импорт (unit + integration)

### Unit tests
- Парсинг метаданных: корректное извлечение title/author/cover для EPUB/PDF (happy path).
- Обработка некорректного файла: ожидаемая ошибка/исключение без краша.
- Валидация лимитов: размер файла, неподдерживаемый формат, пустой файл.
- Нормализация путей/имён: корректные имена файлов, безопасные символы.
- Дедупликация: повторный импорт того же файла не создает дубликат в библиотеке.

### Integration tests
#### Mobile
- Импорт локального файла: файл появляется в библиотеке с метаданными.
- Импорт через URL: загрузка, сохранение, отображение в библиотеке.
- Хранилище: корректная загрузка в S3-совместимое хранилище и получение ссылки.
- Синхронизация: импорт на устройстве A появляется на устройстве B.
- Оффлайн сценарий: импорт в оффлайне сохраняется локально и синхронизируется после восстановления сети.
- Ошибка сети/таймаут: корректный откат/повтор с понятным сообщением пользователю.

#### Desktop
- Импорт локального файла через picker/drag-and-drop: файл появляется в библиотеке с метаданными.
- Импорт через URL: загрузка, сохранение, отображение в библиотеке.
- Хранилище: корректная загрузка в S3-совместимое хранилище и получение ссылки.
- Синхронизация: импорт на устройстве A появляется на устройстве B.
- Оффлайн сценарий: импорт в оффлайне сохраняется локально и синхронизируется после восстановления сети.
- Ошибка сети/таймаут: корректный откат/повтор с понятным сообщением пользователю.
